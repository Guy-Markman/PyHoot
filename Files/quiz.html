<!doctype html>
<html>
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1"/>
        <title>PyHoot!</title>
        <script>
            window.setInterval(function(){getnames();}, 1000);

            function setInnerHTML(url, id){
                var xhttp = new XMLHttpRequest();
                xhttp.onreadystatechange = function() {
                    if (this.readyState == 4 && this.status == 200){
                        document.getElementById(id).innerHTML =
                            this.responseText;
                    }
                };
                xhttp.open("GET", url, true);
                xhttp.send();
            }

            function getnames() {
                setInnerHTML("getnames", "names");
            }
        </script>
    </head>
    <body onload="setInnerHTML('get_join_number', 'join_number');">
        <center>
            <p id = "part1">
                <font size = "7">Now you can join the Game!<br></font>
                <font size = "7" id="join_number"></font>
                <br><br>
                Connected players
                <p id="names">
                </p>
                <br><br>
                <input type="button" value="Start playing"
                onclick="window.location = '/opening'">
            </p>
            <p id="part2" style="display:none">
                <!--TODO: Add the content of the name and number-->
                <font size = "7"><p id = "quiz_name"></p></font>
                <br><br>
                <font size = "4"><p id = "number_questions"></p></font>
            </p>
        </center>
    </body>
</html>
